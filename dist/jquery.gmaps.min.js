!function(e){var t=window.Gmaps||{};t=function(){function t(t,o){var r=this;r.element=t,r.settings=o,r.$canvas=null,r.$map=e(t),r.id="jquery-gmaps-"+r.___createId(5),r.map=null,r.markers=[],r.bounds=null,r.infowindows=[],r.properties=[],r.properties.map=[],r.properties.map.api=[],r.properties.map.option=[],r.properties.map.control=[],r.properties.map.event=[],r.locations=r.getLocations(r.element),r._init(r.element)}return t}(),t.prototype._init=function(e){var t=this;t._getMapProperties(),t._canvas(),t._scripts()},t.prototype._canvas=function(){var t=this;t.$map.find(".googlemap-overview").length>0&&t.$map.find(".googlemap-overview").remove();var o=document.createElement("div");return e(o).addClass("googlemap-overview"),e(o).addClass(t.id),e(t.element).prepend(e(o)),t.$canvas=e(o)},t.prototype._scripts=function(){var t=this;if(0===e("#gmaps-api").length){var o="//maps.googleapis.com/maps/api/js";o+="?key="+t.properties.map.api.key,o+="&language="+t.properties.map.api.lang;var r=document.createElement("script");if(r.type="text/javascript",r.src=o,r.id="gmaps-api",r.async=!0,r.defer=!0,document.body.appendChild(r),t.properties.map.option.clustering){var a=document.createElement("script");a.type="text/javascript",a.src="//developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js",a.id="gmaps-clustering",a.async=!0,a.defer=!0,document.body.appendChild(a)}}var l=setInterval(function(){void 0!==window.google&&(window.clearInterval(l),t.mapInit())},200)},t.prototype._getMapProperties=function(){var e=this;e.properties.map.style=e._getMapStyle(e.settings),e.properties.map.theme=e._getMapTheme("default"),e.properties.map.api.key=e._getMapApiKey(void 0),e.properties.map.api.lang=e._getMapApiLanguage("en"),e.properties.map.option.zoom=e._getMapOptionZoom(4),e.properties.map.option.zoom_min=e._getMapOptionZoomMin(1),e.properties.map.option.zoom_max=e._getMapOptionZoomMax(16),e.properties.map.option.type=e._getMapOptionType("roadmap"),e.properties.map.option.clustering=e._getMapOptionClustering(!1),e.properties.map.control.zoom=e._getMapControlZoom(!1),e.properties.map.control.type=e._getMapControlType(!1),e.properties.map.control.scale=e._getMapControlScale(!1),e.properties.map.control.streetview=e._getMapControlStreetView(!1),e.properties.map.control.rotate=e._getMapControlRotate(!1),e.properties.map.control.fullscreen=e._getMapControlFullscreen(!1),e.properties.map.event.draggable=e._getMapEventDraggable(!0),e.properties.map.event.dblclickZoom=e._getMapEventControlClickZoom(!0),e.properties.map.event.scrollwheel=e._getMapEventScrollWheel(!1)},t.prototype._getMapTheme=function(e){var t,o=this,r=e,a=null,l=o.$map.attr("data-theme");try{a=o.settings.api.key}catch(e){}return t="string"==typeof l?l:"string"==typeof a?o.settings.api.key:r,console.log(t),t},t.prototype._getMapApiKey=function(e){var t=this,o=e,r=null,a=t.$map.attr("data-key");try{r=t.settings.api.key}catch(e){}return"string"==typeof a?a:"string"==typeof r?t.settings.api.key:o},t.prototype._getMapApiLanguage=function(t){var o=this,r=t,a=null,l=o.$map.attr("data-lang"),p=e("html").attr("lang");try{a=o.settings.api.lang}catch(e){}return"string"==typeof l?l:"string"==typeof a?o.settings.api.lang:"string"==typeof p?p:r},t.prototype._getMapOptionZoom=function(e){var t,o=this,r=e,a=null,l=parseInt(o.$map.attr("data-zoom"));try{a=parseInt(o.settings.map.zoom)}catch(e){}return t="number"==typeof l&&l>0?l:"number"==typeof a&&a>0?o.settings.map.zoom:r,t>0&&t<17&&(t=r),t},t.prototype._getMapOptionZoomMin=function(e){var t,o=this,r=e,a=null,l=parseInt(o.$map.attr("data-zoom-min"));try{a=parseInt(o.settings.map.zoom_min)}catch(e){}return t="number"==typeof l&&l>0?l:"number"==typeof a&&a>0?a:r,t>0&&t<17&&(t=r),t},t.prototype._getMapOptionZoomMax=function(e){var t,o=this,r=e,a=null,l=parseInt(o.$map.attr("data-zoom-max"));try{a=parseInt(o.settings.map.zoom_max)}catch(e){}return t="number"==typeof l&&l>0?l:"number"==typeof a&&a>0?a:r,t>0&&t<17&&(t=r),t},t.prototype._getMapOptionType=function(e){var t,o=this,r=e,a=null,l=o.$map.attr("data-type");try{a=o.settings.map.type}catch(e){}return t="string"==typeof l&&void 0!==l?l:"string"==typeof a&&void 0!==a?a:r,"roadmap"===t&&"satellite"===t&&"hybrid"===t&&"terrain"===t||(t=e),t},t.prototype._getMapOptionClustering=function(e){var t=this,o=e,r=null,a=t.$map.attr("data-clustering");try{r=t.settings.map.clustering}catch(e){}return"boolean"!=typeof a||"true"==typeof a&&"false"==typeof a?"boolean"!=typeof r||"true"==typeof r&&"false"==typeof r?o:r:a},t.prototype._getMapControlZoom=function(e){var t=this,o=e,r=null,a=t.$map.attr("data-control-zoom");try{r=t.settings.control.zoom}catch(e){}return"boolean"!=typeof a||"true"==typeof a&&"false"==typeof a?"boolean"!=typeof r||"true"==typeof r&&"false"==typeof r?o:r:a},t.prototype._getMapControlType=function(e){var t=this,o=e,r=null,a=t.$map.attr("data-control-type");try{r=t.settings.control.type}catch(e){}return"boolean"!=typeof a||"true"==typeof a&&"false"==typeof a?"boolean"!=typeof r||"true"==typeof r&&"false"==typeof r?o:r:a},t.prototype._getMapControlScale=function(e){var t=this,o=e,r=null,a=t.$map.attr("data-control-scale");try{r=t.settings.control.scale}catch(e){}return"boolean"!=typeof a||"true"==typeof a&&"false"==typeof a?"boolean"!=typeof r||"true"==typeof r&&"false"==typeof r?o:r:a},t.prototype._getMapControlStreetView=function(e){var t=this,o=e,r=null,a=t.$map.attr("data-control-streetview");try{r=t.settings.control.streetview}catch(e){}return"boolean"!=typeof a||"true"==typeof a&&"false"==typeof a?"boolean"!=typeof r||"true"==typeof r&&"false"==typeof r?o:r:a},t.prototype._getMapControlRotate=function(e){var t=this,o=e,r=null,a=t.$map.attr("data-control-rotate");try{r=t.settings.control.rotate}catch(e){}return"boolean"!=typeof a||"true"==typeof a&&"false"==typeof a?"boolean"!=typeof r||"true"==typeof r&&"false"==typeof r?o:r:a},t.prototype._getMapControlFullscreen=function(e){var t=this,o=e,r=null,a=t.$map.attr("data-control-fullscreen");try{r=t.settings.control.fullscreen}catch(e){}return"boolean"!=typeof a||"true"==typeof a&&"false"==typeof a?"boolean"!=typeof r||"true"==typeof r&&"false"==typeof r?o:r:a},t.prototype._getMapEventControlClickZoom=function(e){var t,o=this,r=e,a=null,l=o.$map.attr("data-event-dblclickzoom");try{a=o.settings.event.dblclickZoom}catch(e){}return t="boolean"!=typeof l||"true"==typeof l&&"false"==typeof l?"boolean"!=typeof a||"true"==typeof a&&"false"==typeof a?r:a:l,t=!0!==t},t.prototype._getMapEventDraggable=function(e){var t=this,o=e,r=null,a=t.$map.attr("data-control-fullscreen");try{r=t.settings.control.fullscreen}catch(e){}return"boolean"!=typeof a||"true"==typeof a&&"false"==typeof a?"boolean"!=typeof r||"true"==typeof r&&"false"==typeof r?o:r:a},t.prototype._getMapEventScrollWheel=function(e){var t=this,o=e,r=null,a=t.$map.attr("data-event-scrollwheel");try{r=t.settings.event.scrollwheel}catch(e){}return"boolean"!=typeof a||"true"==typeof a&&"false"==typeof a?"boolean"!=typeof r||"true"==typeof r&&"false"==typeof r?o:r:a},t.prototype._getMapStyle=function(e){try{return e.style}catch(e){return!1}},t.prototype.getLocations=function(t){var o=this,r=e(t).find(".marker"),a=[];return r.each(function(t,r){var l=e(r).attr("data-lat"),p=e(r).attr("data-lng"),n=e(r).attr("data-id"),r={id:o.getMarkerID(n),lat:l,lng:p,html:e(r).html(),icon:o.getMarkerIcon(r),draggable:o.getMarkerEventDraggable(r)};a.push(r)}),a},t.prototype.mapInit=function(){var t=this,o={};o.zoom=t.properties.map.option.zoom,o.minZoom=t.properties.map.option.zoom_min,o.maxZoom=t.properties.map.option.zoom_max,o.mapTypeId=t.properties.map.option.type,o.zoomControl=t.properties.map.control.zoom,o.mapTypeControl=t.properties.map.control.type,o.scaleControl=t.properties.map.control.scale,o.streetViewControl=t.properties.map.control.streetview,o.rotateControl=t.properties.map.control.rotate,o.fullscreenControl=t.properties.map.control.fullscreen,o.draggable=t.properties.map.event.draggable,o.disableDoubleClickZoom=t.properties.map.event.dblclickZoom,o.scrollwheel=t.properties.map.event.scrollwheel,t.$map.addClass("googlemap").addClass("googlemap-load");var r=t._setLook(t.properties.map.theme);if(!1!==r&&(o.styles=r.style,t.$map.addClass(r.class)),!1!==t.properties.map.style&&(o.styles=t.properties.map.style),t.map=new google.maps.Map(t.$canvas.get(0),o),e.each(t.locations,function(e,o){t.addMarker(o)}),t.$map.trigger("onLoad"),t.setCenter(),t.properties.map.option.clustering){new MarkerClusterer(t.map,t.markers,{imagePath:"//developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"})}},t.prototype.getMarkerID=function(e){var t=this,o=e;return void 0===o?t.___createId(10):t.___slugify(o)},t.prototype.getMarkerIcon=function(t){var o=e(t).attr("data-marker-image"),r=parseInt(e(t).attr("data-marker-width")),a=parseInt(e(t).attr("data-marker-height"));return!(void 0===o||!e.isNumeric(r)||!e.isNumeric(a))&&{url:o,width:r,height:a}},t.prototype.getMarkerEventDraggable=function(t){var o=Boolean(e(t).attr("data-draggable"));return void 0!==o&&""!==o||(o=!1),o},t.prototype.getMarkerEventClickeable=function(t){var o=Boolean(e(t).attr("data-clickeable"));return void 0!==o&&""!==o||(o=!1),o},t.prototype.addMarker=function(t){var o=this,r={};if(r.id=t.id,r.position=new google.maps.LatLng(t.lat,t.lng),r.map=o.map,r.clickable=!0,r.animation=google.maps.Animation.DROP,!1!==t.icon){r.icon=t.icon;t.icon.url,new google.maps.Size(t.icon.width,t.icon.height)}!1!==t.draggable&&(r.draggable=!0);var a=new google.maps.Marker(r);if(o.markers.push(a),t.html){var l=new google.maps.InfoWindow({content:t.html});o.infowindows.push(l),google.maps.event.addListener(l,"domready",function(){var t=e(".gm-style-iw"),o=(t.parent().addClass("bubble"),t.prev());o.children(":nth-child(2)").css({display:"none"}),o.children(":nth-child(4)").css({display:"none"});var r=t;r.addClass("bubble-container"),r.removeClass("gm-style-iw"),r.children(":nth-child(1)").addClass("bubble-container-overview");var a=t.next();a.addClass("bubble-close"),a.find("img").remove(),a.attr("style","")}),a.addListener("click",function(){e.each(o.infowindows,function(e,t){t.close()}),l.open(o.map,a);var r={};r.lat=parseFloat(a.getPosition().lat()),r.lng=parseFloat(a.getPosition().lng()),o.$map.trigger("onMarkerClick",[r,t.id])})}o.map.setCenter(r.position)},t.prototype.openMarker=function(t){var o=this;e.each(o.markers,function(e,o){o.id===t&&new google.maps.event.trigger(o,"click")})},t.prototype.setCenter=function(){var t=this,o=new google.maps.LatLngBounds;e.each(t.locations,function(e,t){var r=new google.maps.LatLng(t.lat,t.lng);o.extend(r)}),1===t.locations.length?t.map.setCenter(o.getCenter()):t.map.fitBounds(o)},t.prototype._makerLook=function(){var e=[];return e.push({name:"black",class:"gmaps-style-black",style:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]}),e.push({name:"green",class:"gmaps-style-green",style:[{featureType:"water",elementType:"geometry",stylers:[{color:"#a0d6d1"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#dedede"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#dedede"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f1f1f1"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}]}),e.push({name:"red",class:"gmaps-style-red",style:[{stylers:[{hue:"#dd0d0d"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]}]}),e.push({name:"blue",class:"gmaps-style-blue",style:[{featureType:"water",elementType:"geometry",stylers:[{color:"#193341"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#2c5a71"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#29768a"},{lightness:-37}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#406d80"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#406d80"}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#3e606f"},{weight:2},{gamma:.84}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"administrative",elementType:"geometry",stylers:[{weight:.6},{color:"#1a3541"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#2c5a71"}]}]}),e.push({name:"gray",class:"gmaps-style-gray",style:[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}]}),e},t.prototype._setLook=function(t){var o=this;if("default"===t)return!1;var r=e.grep(o._makerLook(),function(e){return e.name===t});return void 0!==r[0]&&r[0]},t.prototype.reload=function(){var e=this;e._init(e.element)},t.prototype.destroy=function(){},t.prototype.___getLatLng=function(e,t){return new google.maps.LatLng(e,t)},t.prototype.___slugify=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},t.prototype.___createId=function(e){for(var t="abcdefghijklmnopqrstuvwxyz0123456789",o="",r=0;r<e;r++){var a=Math.floor(Math.random()*t.length);o+=t.substring(a,a+1)}return o},e.fn.gmaps=function(){var e,o,r=this,a=arguments[0],l=Array.prototype.slice.call(arguments,1),p=r.length;for(e=0;e<p;e++)if("object"==typeof a||void 0===a?(console.log(r[e]),r[e].gmap=new t(r[e],a)):o=r[e].gmap[a].apply(r[e].gmap,l),void 0!==o)return o;return r}}(jQuery);