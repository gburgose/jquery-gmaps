!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=window.Gmaps||{};e=function(){function e(e,r){var o=this,a=t(e).index();o.index=a,o.id="jquery-gmaps-"+a,o.url="https://maps.googleapis.com/maps/api/js",o.key=o._getKey(e),o.zoom=o._getZoom(e),o.lang=o._getLanguage(),o.markers=o._getMarkers(e),o.map=null,o.bounds=null,t(e).addClass("googlemap");var n=document.createElement("div");t(n).addClass("googlemap-overview"),t(n).addClass(o.id),t(e).prepend(t(n)),o.script(!0)}return e}(),e.prototype._getKey=function(e){return t(e).attr("data-key")},e.prototype._getZoom=function(e){var r=t(e).attr("data-zoom");return void 0!==r&&""!==r||(r=4),parseInt(r)},e.prototype.getIcon=function(t){},e.prototype._getLanguage=function(){var e=t("html"),r=e.attr("lang");return void 0!==r&&""!==r||(r="en"),r},e.prototype._getMarkers=function(e){var r=t(e).find(".marker"),o=[];return r.each(function(e,r){var a={lat:parseFloat(t(r).attr("data-lat")),lng:parseFloat(t(r).attr("data-lng")),html:t(r).html()};o.push(a)}),o},e.prototype.script=function(t){var e=this;if(0==e.index){var r=e.url;if(!e.key)return!1;r+="?key="+e.key;var o=document.createElement("script");o.type="text/javascript",o.src=r,o.id="gmaps-script",o.async=!0,o.defer=!0,document.body.appendChild(o)}var a=setInterval(function(){void 0!==window.google&&(window.clearInterval(a),e.create())},100)},e.prototype.create=function(){var e=this,r=t("."+e.id);e.map=new google.maps.Map(r.get(0),{zoom:e.zoom,zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1}),t.each(e.markers,function(t,r){e.addMarker(r.lat,r.lng,r.html)}),e.setCenter()},e.prototype.addMarker=function(t,e,r){var o=this,a=new google.maps.Marker({position:{lat:t,lng:e},map:o.map}),n=new google.maps.InfoWindow({content:r});a.addListener("click",function(){n.open(o.map,a)})},e.prototype.setCenter=function(){var t=this;if(t.markers.length<=1){var e={lat:t.markers[0].lat,lng:t.markers[0].lng};t.map.setCenter(e)}},t.fn.gmaps=function(){var t,r,o=this,a=arguments[0],n=Array.prototype.slice.call(arguments,1),i=o.length;for(t=0;t<i;t++)if("object"==typeof a||void 0===a?o[t].gmap=new e(o[t],a):r=o[t].gmap[a].apply(o[t].gmap,n),void 0!==r)return r;return o}});